<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Aplikasi Pemesanan Buku & Rumah Tangga</title>
<style>
body{font-family:Arial,sans-serif;margin:0;background:#f4f4f4;}
.header{position:sticky;top:0;background:#0066d1;color:white;padding:10px 15px;display:flex;flex-direction:column;align-items:center;z-index:10;border-bottom:5px solid red;}
.header-top{display:flex;justify-content:space-between;align-items:center;width:100%;}
.header img {
  height: 40px;
  margin-top: 55px; /* naikkan angkanya untuk menurunkan logo lebih jauh */
}
.cart-container {
  display: flex;
  align-items: center;
  gap: 10px;
  position: relative;
  transform: translateY(-30px); /* geser ke atas */
}
.badge{background:red;color:white;padding:3px 8px;border-radius:50%;font-size:14px;position:absolute;top:-5px;right:-5px;}
.cart-icon{position:relative;font-size:26px;cursor:pointer;}
#headerTotal{font-weight:bold;color:white;font-size:18px;min-width:80px;text-align:right;}
#btnHeaderRingkasan{margin-top:8px;padding:6px 12px;background:#800000;border:none;color:white;border-radius:6px;cursor:pointer;}
.menu{display:flex;overflow-x:auto;gap:10px;padding:10px;background:white;}
.menu button{flex:1;padding:12px;border:none;background:#e7e7e7;border-radius:8px;font-weight:bold;cursor:pointer;}
.menu button.active{background:#007bff;color:white;}
.search-box{padding:10px;background:white;margin-top:10px;}
.search-box input{width:100%;padding:10px;border-radius:8px;border:1px solid #bbb;}
.content{padding:15px;display:flex;flex-direction:column;gap:15px;}
.tombol-menu{padding:14px 20px;font-size:18px;border:none;border-radius:8px;width:90%;max-width:300px;cursor:pointer;margin:10px;color:white;}
.btn-sekolah{background:#3182ce;}
.btn-rumah{background:#38a169;}
#btnKembali{margin:20px auto;padding:12px;border:none;background:#ff9c00;color:white;border-radius:10px;width:90%;font-size:18px;font-weight:bold;display:none;}
.product-card{display:flex;gap:15px;background:#800000;color:white;padding:10px;border-radius:8px;width:100%;max-width:500px;margin-bottom:10px;align-items:flex-start;}
.product-left{text-align:center;}
.product-left img{width:110px;height:140px;object-fit:cover;border-radius:6px;}
.product-left div {
  margin-top: 5px;
  font-weight: bold;
  font-size: 12px; /* sebelumnya default, sekarang lebih kecil */
}
.product-info{display:flex;flex-direction:column;justify-content:flex-start;flex:1;}
.product-info b{font-size:16px;}
.product-info p{margin:4px 0;}
.product-info button{background:black;color:white;border:none;padding:8px;border-radius:6px;cursor:pointer;margin-top:5px;}
.product-info input[type=number]{width:60px;padding:4px;border-radius:4px;border:1px solid #bbb;}
#filterPenerbitContainer{margin:10px;text-align:center;}
#filterPenerbit{padding:6px;border-radius:6px;border:1px solid #bbb;background-color:#006666;color:white;font-weight:bold;}
#filterPenerbit option{background:white;color:black;}
#ringkasanModal{display:none;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.5);z-index:100;justify-content:center;align-items:center;padding:8px;}
#ringkasanModal .card{background:#008b8b;color:white;border-radius:10px;width:95%;max-width:400px;padding:20px;position:relative;box-shadow:0 4px 12px rgba(0,0,0,0.25);max-height:85%;overflow-y:auto;}
#ringkasanModal .closeBtn{position:absolute;top:5px;right:10px;width:40px;height:40px;background:red;color:white;border:none;border-radius:50%;font-size:22px;font-weight:bold;cursor:pointer;display:flex;align-items:center;justify-content:center;}
#ringkasanModal table{width:100%;border-collapse:collapse;margin-bottom:8px;font-size:12px;}
#ringkasanModal table th, #ringkasanModal table td{border:1px solid rgba(255,255,255,0.6);padding:4px;text-align:center;}
#ringkasanModal table th{background:rgba(0,123,123,0.8);}
#ringkasanModal input, #ringkasanModal textarea{background:white;color:black;width:100%;padding:4px;border-radius:4px;border:1px solid #bbb;margin:3px 0;font-size:12px;}
#ringkasanModal .action-buttons{display:flex;flex-direction:column;gap:10px;margin-top:10px;}
#ringkasanModal .action-buttons button{width:100%;padding:14px;font-size:16px;border:none;border-radius:8px;cursor:pointer;font-weight:bold;color:white;transition:all 0.2s ease;box-shadow:0 4px 6px rgba(0,0,0,0.2);}
.waBtn{background:#25D366;}
#printBtn{background:#FF9C00;}
#resetBtn{background:#b30000;}
#ringkasanModal .action-buttons button:hover{transform:translateY(-2px);filter:brightness(0.9);}
.header-title {
  text-align: left;
  margin-left: 100px;
  margin-top: -43px; /* ini yang menempel ke atas */
}
.namaToko{font-size:20px;font-weight:700;}
.subToko{font-size:14px;font-weight:300;margin-top:1px;}
</style>
</head>
<body>

<div class="header">
  <div class="header-top">
    <div><img src="https://lh3.googleusercontent.com/pw/AP1GczP6s26gPxZcdmqsx6Wr1vgZpS_0FuhLZAzuzr8M8_2pUJE0quxX2eJMYpmoTP2UCeo00kH0nK9WGI6KtflDmPM4H0Yv7e9BlWqBg0iMdqZ-trYiv6-1GC31N2l2lUhtHhiauFG6KhxmOJo8GCduIcpR=w361-h152-s-no?authuser=0" alt="Logo"></div>
    <div class="cart-container">
      <div class="cart-icon" onclick="lihatRingkasanModal()">üõí<span class="badge" id="badgeQty">0</span></div>
      <div id="headerTotal">Rp 0</div>
    </div>
  </div>
  <div class="header-title">
    <div class="namaToko">Gajahmada Media Group</div>
    <div class="subToko">Distributor Buku dan Alat Peraga</div>
  </div>
  <button id="btnHeaderRingkasan" onclick="lihatRingkasanModal()">üõí Lihat Ringkasan</button>
</div>

<div id="menuUtama" style="display:block;text-align:center;padding:30px;">
  <h2>Pilih Kategori Kebutuhan</h2>
  <button class="tombol-menu btn-sekolah" onclick="bukaSekolah()">üìò Kebutuhan Sekolah</button><br>
  <button class="tombol-menu btn-rumah" onclick="bukaRumahTangga()">üßπ Kebutuhan Rumah Tangga</button>
  <div class="search-box" style="margin-top:20px;">
    <input type="text" id="searchInputUtama" placeholder="üîç Cari produk..." oninput="cariProdukUtama()">
  </div>
</div>

<button id="btnKembali" onclick="kembaliMenuUtama()">‚¨Ö Kembali ke Menu Utama</button>

<div class="menu" id="menuSekolah" style="display:none;">
  <button onclick="selectMenu(event,'HET')">HET</button>
  <button onclick="selectMenu(event,'LKS')">LKS</button>
  <button onclick="selectMenu(event,'TKA')">TKA</button>
  <button onclick="selectMenu(event,'PM')">Buku Teks</button>
  <button onclick="selectMenu(event,'CUSTOM')">Custom</button>
</div>

<div id="filterPenerbitContainer" style="display:none;">
  <label>Pilih Penerbit: </label>
  <select id="filterPenerbit" onchange="filterPenerbit()">
    <option value="">Semua</option>
  </select>
</div>

<div class="menu" id="menuRumah" style="display:none;">
  <button onclick="selectRumah(event,'SEMBAKO')">Sembako</button>
  <button onclick="selectRumah(event,'ALAT')">Peralatan Rumah Tangga</button>
  <button onclick="selectRumah(event,'SNACK')">Snack</button>
</div>

<div class="search-box" id="searchBox" style="display:none;">
  <input type="text" id="searchInput" placeholder="üîç Cari produk..." oninput="cariProduk()">
</div>

<div class="content" id="contentArea" style="display:none;"></div>

<div id="ringkasanModal">
  <div class="card">
    <button class="closeBtn" onclick="tutupRingkasanModal()">‚úñ</button>
    <div id="modalContent"></div>
  </div>
</div>

<script>
// DATA PRODUK
const produkData = {
  HET:[{id:"HET1",nama:"Buku Tema 1",harga:35000,img:"https://picsum.photos/200?random=1"}],

  LKS:[{id:"FKS-1-01",nama:"Pendidikan Pancasila Kls 1",harga:11000,img:"https://lh3.googleusercontent.com/pw/AP1GczNNLplcFIin2uBt_L5IddIju1pJhf4NVpHLSRBaSlT579rGh1SngbEpw2akW_stVetSPZoDtnYLtl2skAJUTZjl3Cp-aJPhy2ox1ZuZ9DJ9do07MjeuQjtQmwMohAppsuWeCZ-GgOG8Wto0v1e_TF8=w700-h977-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-1-02",nama:"Bahasa Indonesia Kls 1",harga:11000,img:"https://lh3.googleusercontent.com/pw/AP1GczPH1Cq-4AotpVkjkD-VdKJHGgQF0qEz6TNr8x4CuwxoGJSQUKmRooZU2wpfNESh0TyUmPrd7CUhyo_ggAGd97iCGEu3MgbTlQzgTh5FmP65ok6X4xdXTV9JTHNqO6-KxlU7Apdy9xWP5y56NjhnHm8=w640-h881-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-1-03", nama:"Matematika Kls 1", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczMPxVbR4lUlcYnvUkHZfr9VsdlhwypQeC-eAbEO158j7Lcm1ax8PVrpnqpKkIB9r0-E1q0cHxfhY8ZGsI_mIWyG58Gvdf4vFfuQTWO2A_BxIiq1eW4_BmBijO3v8zSO1sSz_5M9RomvzWORY98CO4w=w723-h983-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-1-04", nama:"Bahasa Inggris Kls 1", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczPkVHmcQEbaAsg4P8KONAqhBcKdIKURbwOJXUbuRmslwHSOWgm7x0ZoV83NeYRQRTdjiPOfCyq5jr9nZHH5urDNH4poSuSygSp100KDaUCgqVBdUmcyU2KEphSJIRk6PG7v43zYXn73oEKgmg1llDwh=w728-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-1-05", nama:"Bahasa Jawa Kls 1", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczMJnZFo8NqS7XOETxKXwQhp9FWGW6LWdDTYgJQYnyBBJUb6T6bdlQTQnMxR4IZ0gfxqI31msjtAkPEs8iPzrLGMM7sU-G45UhHzP8TnDIKrhd6MRpnnvqgBCKPLW3n4R9pNtU_HGJZaW_qqudHSYz55=w710-h996-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-1-06", nama:"Pendidikan Agama Islam Kls 1", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczOmiBa9pYa7yo5JITdEa67ZvTgxipdgYdnFFCEEqOzLMyQTyh0VcYSYfglq-uhc4wpCqcRvnaVqKOWB_bFkmL2TB_lvHknihgYn57sKvFYdoqR1a-lclD8S3EKg8R3zlTJTMxxu9PkMrag-4cUkijmG=w718-h994-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-1-07", nama:"PJOK Kls 1", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczNMcNQa6cTnRs-3_pTZ8vz3-0hDY1VGmW5WjiOokjJJ4C_Vc6UrnCm3YCsu0d2LBDS9A4Tx59hfDxDAeURmS5ekOp5oCPpzPrBkC8SIRScdMPPFE0QixCXqG93Xdp9V6qhUnwrqlEscvTDKtQdvdMP7=w713-h996-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-1-08", nama:"Seni Rupa Kls 1", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczNBZ4Tn4VX8Sg2RIDv38_TyxMSzLFd2Uv4Xg5Ovj_rB-4mUShpZ0cytbCKkOyf4m5Mn0G3He6Yi_r8GuAwm6JHs0MEXiO8Y4nWasnIljckTF2gJDDJHCL7uvwf2X00YcugGUCbrhxIGiSA0LOLxciTi=w675-h956-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-2-01", nama:"Pendidikan Pancasila Kls 2", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczM8uitxPXxTYrhjn_HIDFEhvxxG9N7rcoMQBpNtwo8LG9sW5d04D3l77yklj8dYM4QkXsjHQSQwMg5FuafQnHRgAx77cCj3gIr0QXb95ODAxW5sJ-TmAI6O8rgMFZXoNO7vFL0m-np2ylkqloWJSW7R=w704-h983-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-2-02", nama:"Bahasa Indonesia Kls 2", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczNWTgsNNOt4U9Qe7XmzEK1LxTr5Xa0o62vrV1vbA7nU_LCwVNG7WtwNyxXDSmoByyI_5pTcO8KYHQqXIqeet6cefKx5PEn8MdFll24Fgz_S1OGbOPHXGUQeRbK2qUvTj4rcO7085hgv3xvaiUMjw-wn=w682-h908-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-2-03", nama:"Matematika Kls 2", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczP5BKOQf0-6eeLWc73iG35sPnAeMWXUt6n2cgMsyoGX66iF0YjmQ1tE_YicLaA9YJcR6PDpkzEsJbNeZLKT-i_iKt4ngD3lk1gj3OA6z-xXfVGPimv6RHmNjoSWmXIFVDR99SF3ymFNF4qIlPpnY7xe=w718-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-2-04", nama:"Bahasa Inggris Kls 2", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczMLGT1KneBU4imCBoAKdE9aFQSfkEjZn2nCIoJgEsKTZmvb7rN9YqccmPOBF63BcwobdEWP5fycgaEgAKnWH6BmDHpm-5Yot5d8TESTkXT7uB5Q7r4AakDz5aVWwJfFJpw9WQl-98qeyKu3hgMSKtYY=w706-h982-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-2-05", nama:"Bahasa Jawa Kls 2", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczMQc06UUAXZMBJ0p-s7QoRMfFMZpXnHwDpWifnJ2rrjr7Z5syc2-HYrTJZZPfPWFp-tmClvbMsudFVXe1ohAkrWkV0xig7rqj3K44upNaH4c3MhDL2JFx9f2iilJHTe3uuIINOojHZoAnVSdiOWx6Kw=w714-h988-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-2-06", nama:"Pendidikan Agama Islam Kls 2", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczPId7UUWtbOnr1rCaaX9zdWYZrORg71RqxeoQ81O7ij2SuCYXAJCXK4kiTo9Q4G7tDVJlU84aCCaDdSzks6_ibXABRg5PeijwEokujga2RQQ7RG18eoq2xDK0gEFkAi3ks_pLST0MOTPLVsmlO3gkK9=w536-h697-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-2-07", nama:"PJOK Kls 2", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczP2jyc0iC_S0E-IfMeiGMJoLu373WR0J46YQfvjqR_SYpc7SGh5imnpKXVUJZJOUvoCyESapuQyPLpouDJisoTW0stIth_WSxb3IAoNC0grQzrDb1NyZtp8QiZXrvkFOiwtoIhnkmMBSn8GyuQ4F35g=w697-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-2-08", nama:"Seni Rupa Kls 2", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczOFARTjFZUsAumqKUBbziXo3ZA9-rv4y2BLW_iN-HoUGL3WVRYtjjJbDiaZvQCH2dGCmPEY1z7dHFDO5u0rtX2QJZfKCSFcIMSQGHI5sijynfLtvbrSAV-ClFdepaf-13hj2YjBWtTkPWvsY_8JJzPG=w157-h225-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-3-01", nama:"Pendidikan Pancasila Kls 3", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczMtwMavxJGwixyE9r_rGLjA25VzjBEUtlJL-7njSP40snAufX50yS-8xTfnsl6XatFf68Em-95r8l_cweaF7gc5DCBKMBp54oq8Ggz5YY5SiH0dS2Odj61z-HCTi_WbWshxcTxYzJegMxW-sEESZiBo=w706-h977-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-3-02", nama:"Bahasa Indonesia Kls 3", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczODq7AlXgIENjToTQWi4OgCRj5dDbWiozV_Ym29NVUb2S5CrAtJsxif2bL1YUhtksTbVPPcB1A10_2GLNJCEWs6AFHQtoW-rLUcvZ42WIIhsRpvHl1aWwbtzvcSzAAtiOwv4GeFqzilHGUL0GVZiWHJ=w504-h692-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-3-03", nama:"Matematika Kls 3", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczMSKcE1Uq2WjGSNBJW7q4fiBJjzZd-zFd9cnGf3RxlfmJm7EhecGyH5XEr9W9kIxO5kIZ_DR_T4AiKdzVt6smR_q6z1UXru8hSZZe_phHoTtlUNZ4WXn8ayg3hyyozVJKiwgBmUwoxX8m2eTuhjKTR1=w504-h666-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-3-04", nama:"IPAS Kls 3", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczOBttItZ07KgQgvo9xTGUlAWKl3DHmeC-XdxDL9h9R-DYTpkTpH8clj432AakIy13OG3YfoHXhX4Vs3IiZ-9d8nEjUCAfdwvPuhUoHb1dAZ3hW7Ytp1b6nw2l_lLqUyJmKLlrDCe44oDqyA4EI0GXgw=w705-h985-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-3-05", nama:"Bahasa Inggris Kls 3", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczM4lMEP1PYG7C2i25JkxZsCrApePVOIh1JLR8A2OaoghbH4sJ9Y4kxpVdc3vTikQl0b0F6XcWYr8hwe3boc4aIf4qAG9Hjb1w4wFbNzZsZE1cbEHHiKZ27BB4-SUwjXRRJsuNVlSju3oSyMeTmOA94n=w147-h190-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-3-06", nama:"Bahasa Jawa Kls 3", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczOTXL2gUlVvHXXT0KzA6IzIYTwY6Es5Mu1QYs8AqsmWbzJxHjVLYaeVb5EBfOKSL0lyW-fqiz5_YNkHTVIkQGfVfcCqThLNCx7pgPcAEbH8RvYIfrIiIAZfjxnNGpqEyDY2ljVqK6BEgE2B4NCZmbip=w513-h699-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-3-07", nama:"Pendidikan Agama Islam Kls 3", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczOVf9N0vM-2z9zNa4TGlSMwfjNLHH1PsKycoG7xDFwa1uD1P-f42EWwC95-r9wvUwLbMIysz7M3X6jd_JHwTjXScfbb_3xtZtbO_4YgNIv0YkOsNqUffvN_aQGPKePZbnSQlyA-iU5bmHVdCO_Bp7qq=w698-h935-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-3-08", nama:"PJOK Kls 3", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczNai1h16sMV7iPo0g_pZ2TfzAxsS7z0s3PCR-Vnp3t1BHDRfTb5BpxWq4kVbyXq3NEpzN1riioFbCRBVDwkgj2gOeY8bsuP7LgFs9Bz_LhzLPWL-U6aK_5hfVB4z8LIX87ufmJfG5MQA2kec_zp3hcr=w153-h225-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-3-09", nama:"Seni Rupa Kls 3", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczORzpIcKnP4GwLRTEvhPWWwe_SZMaUCw5ZBo-QTlTUdYyRvP8n6s-jaSOSmhP7pJSl31j3E4IReSJaHb23TT_iL2qgRn41bhKEHmp0qGYF7PO-Qy8RFD3OKqzMXN_LTwppH-yIixqxehejyRD0062qK=w509-h700-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-4-01", nama:"Pendidikan Pancasila Kls 4", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczP4xp7CYIKbvk_ZhMasO_tS91nmI_yf7Bjtr8iVqw4TFWikHPwBvB0-uZBupO44MTmJht-1suH9QvHrLin9iS_GAw_cJa3uY0FwVspoM0T-PFMwcbDpK-bKfofB-SaCjF_Z7nCJLBbP6CYpE0e06SjY=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-4-02", nama:"Bahasa Indonesia Kls 4", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczOklrWHTAMUSZcekxbn7oU6XfwyMnWTeSVUdoUqOp7bVX-Itwkx_GklVnxvve8coMitvWDTapFOzPcGHhGRiXBS07U0QnxvVD2eZmamxLG0cZlr5oYEV9220zh_K6hs0BDisQvxY37py7WPFReSTpCI=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-4-03", nama:"Matematika Kls 4", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczMPf6qgpD85YR79p2XEM2VFiHeiylrIMno0Zk_BKQORS_04xGiCcGR_ptd7XMdLuMORrhk1Pr6VKINbbEngLXu9WPOvYIjDB7ih75yH5hZXeQBXiqTZ9RrW7Rgwo7rP869ekS8gxw8INljKqBnRnf-o=w225-h225-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-4-04", nama:"IPAS Kls 4", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczP_4_6cUk3zbx9VRVflYZ45m5C3lFB2CDZ6dhhz0kgosJe5CVsa51T4gsksTtYNibyhCs3WUgWJpvpcU9BcfIP62JwCek5CQaVX6w9EDNwi1DfvnaXKgYJx19ZU4y8_FR24hj2cNcdghkQxWafVOP0A=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-4-05", nama:"Bahasa Inggris Kls 4", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczO7Oz5ykeNbQELo6tEgSBZptbj0zHp6jBrVsntwcK8HtxxIEKFYVBCbwYI9yYZwFYWeWx3YMbOOZNTJKLYMkyaP-ZAw_-nCr5XyWVa84r7PcRNlRtdWFt_rIoeTWLpEKNDVIMcatZsiNg_Qt4Fg3KXc=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-4-06", nama:"Bahasa Jawa Kls 4", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczOppMRBYsm4Rjdrq8kdwmgWAC4LS7XK5JvV0jeRBbFMsCH0pJcRl7XAtA9O_SIUeIOQXoatDz7sNjDjt1KUm9tYPXoynV_AFlJe-xM9ix2-UdGyrCaQ7qauYaJfaueXsIUYQothevk5Mhfa0RF4pU0I=w800-h800-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-4-07", nama:"Pendidikan Agama Islam Kls 4", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczM0PL5S4peQh2NoZVpmo4yhBBW8stSEUZthBc-10m5S8nSLUZw-wYqtGQuzyFrxkGq5M4u034D6w7bRZb_d7HtzqRIfgoYf-RfZ9aQkW44outLCg9E2alQxvDCkM2f3MjYRw6kn1HvMRRM76MS9wbrv=w715-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-4-08", nama:"PJOK Kls 4", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczOEUezQxHOdWyAaPo7Mud3kkZ0EMEU9vauV9JBxPdDiqrqackyO-wuQc0ExO6tBpgp0_hcFVAm41NAdX0v-iDZ7cfHkNrC8U3d4vFQlYoIef5wIPhJud4Chw_QQtiUFsyHX6wvlV4Nbid_yvgJ_fYKc=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-4-09", nama:"Seni Rupa Kls 4", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczMA2yuTMbtffvMQ9-xp4p83_N349LUZcpAmBDlcnNjVLePhdUN_FtajtnYBV7uxX4nb1fRfYZBoHiPHov_0sYyTmRK-f8bb9hB83fRCJVooE2IG6NnMwzSHrQe3RYMZOvM2M8yK5KV5jvw84mhDNwUQ=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-5-01", nama:"Pendidikan Pancasila Kls 5", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczMlhuYDTEIgQD6O2F5x_4i2inruHBG9aiq3kGNKYQArcr7oKlAAJIOOwOBu_v-9IQG19xFpkd6YNPiCmp_JvsTivy_yonxdijxKrWzgxcmA43pB6_83nFozlPuL1Pcsk_q_NgrOoTYpwkGnurBh_qHP=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-5-02", nama:"Bahasa Indonesia Kls 5", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczM6Iw1RJLjy-0nJMJQYDh0qdAqh0RNlyjWFiMtppzK9WsIuvbt1V0kOhFPsdFc8Nc0rDLrypSFIHsP4l-Zpz3eovG4_PS-myEZ36YFD5GmJEPC_aO6pXJT5icRnEHR6ZaAmZK5D4Xqwz4Uj_Ow_imQ3=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-5-03", nama:"Matematika Kls 5", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczM3BlGEDsaAvLq9q-1MRH2bIgPk-L_RPsj-2_NaS_AQXmnuazZcP1Clxjgwh948LReG61fISDHdaoz3kDIpzs1LUUYHLyvF8-R5ioaE9-Y6KJZh4kIlbv2XIqJ3ofSkKfm9mYvVhL5XpxBniuzOisE_=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-5-04", nama:"IPAS Kls 5", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczP6qWN2-QkSdhdPcQMrr5c0x8tLMMoFGBIXMFFJIL4EyuqRvsjdQA2WjrGuFR95RiZAc9_8BY4SNaHOLIt5fxt9S81493T_MWgWbEX3LHc1hKkk6iqunn6t5ZxehoYeSPW8nl9KYX2EA2mn6cU5Fdur=w225-h225-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-5-05", nama:"Bahasa Inggris Kls 5", harga:11000, img:"https://lh3.googleusercontent.com/pw/AP1GczMw0n0B612sKaPEY4yMArVt7TUw6-VJc7dC-Ys4mmJNukI_ab39xRdXtyf3-nbigpCLlZuT_Inq3LSWqkxGYOAxYCHjJfSyxdl6EPugf3yJjSS2dQ_NftgwQGi9fIumHOUeo9jPCijk_DMCFy5hS-7p=w225-h225-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-5-06", nama:"Bahasa Jawa Kls 5", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczP25FMWgfdUsp-m6KlTBNIe-a07v09JLsT4uTeRYWYRQs-vRlA_fPCuxtga2jYVeDyuwlqm8kW10huEJwV8m0K7bIJFY-7mzHbWOHd7Ew2h01QAVMDjeJ3wJLFFnfc2GfVLUg_Nk7hXRfWUPOXI55Ul=w800-h800-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-5-07", nama:"Pendidikan Agama Islam Kls 5", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczMq_chJHgRlsWPz5dFBMvS089UN4EpjR9Cq-B7BCJgaSTc2_q_-kSSjOOPuWlFj-qKF8FWZwPo73flcO7oWvd16-a4r3QtX8CZhUFVn4_ZfklB0qZQX-6QEcpIVKoLGOdiWymY1I-PqT9pGRtN6XwEl=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-5-08", nama:"PJOK Kls 5", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczNc_0CLRQKbVLzjFRLDmi_-jeX7x0k4roNgddOwURGovdAVnjHohqqL-VY_gegrCvCBCzhCef3KNUN2gT9aI1SviXcJWAxdhBcWwPV686x-AK6ZJYrIbHxvBQXRGEDa2AoM333bikFMVI118hWWydJW=w225-h225-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-5-09", nama:"Seni Rupa Kls 5", harga:8000, img:"https://lh3.googleusercontent.com/pw/AP1GczPA1g_PJI1Uh_7K34zCmttGMhP4NpBXTqyjGFZbLc1IQRgUOGSpGU5ANsBd0ElrEpDcjzLGzg2O8qq2cNPFtJUtljG9Rv-AU6wMc4-9znWHIsP3V0mn-iOh-joKPdEqTKYTU22j74LzhxSOtBu3GQzx=w1002-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-6-01", nama:"Pendidikan Pancasila Kls 6", harga:17000, img:"https://lh3.googleusercontent.com/pw/AP1GczPSMvoN9Kf-OgarvtK2z8IsXjYSw0r8gtjKWVWTcorad_1zn1yz-FUVl_2-0KRPvnuRPMXN2AqZxb00X9454mfhXLbHvoSy5BBQeDZlajFzlp22Kr90SH4hT4T_xPdN4u4MiKu_gAG0mrjdd8wWCguv=w716-h957-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-6-02", nama:"Bahasa Indonesia Kls 6", harga:17000, img:"https://lh3.googleusercontent.com/pw/AP1GczNM9pkQYavb1JrcNk3mN3fkVmSdzxkySImv5Vpm6naeqFyuwzMJIzDzICEWUxbbIQR5ggkt_qpNFTiuQunIoqZ6ywpR6eWdRbdOmjetSdRRa8H141Quk82zZusBwyt2rwCyVJpa69q0I4T5Og4YMh3J=w748-h973-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-6-03", nama:"Matematika Kls 6", harga:17000, img:"https://lh3.googleusercontent.com/pw/AP1GczOk6kNW4MSvir-nj9frfqtrHn8dZQJnmVWm5pYBzzh0UWVk05lFZsRr4YRtmGqictefa7xvYCgtibkUhM0R1TnvHrSq6L4ig1buNscGxUTnIy9qaGg92rVB2My2P8E5MtZ8Vq8uiH29gxtH___UrwYv=w712-h1002-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-6-04", nama:"IPAS Kls 5", harga:17000, img:"https://lh3.googleusercontent.com/pw/AP1GczPnql8piQmGC3tjqUx37TqMojDIDdwnZlvNx8rA_HN58HnttlDBzOe_XRaI0uPkkM7DNo_UMO4Kic-cTTGGL4_5WoywL9j9KNS7DXz8MvJULOO3YmjuE6gfZ1YljidBkSEfGGaed89D2Ev_w8Zp-uNG=w738-h993-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-6-05", nama:"Bahasa Inggris Kls 6", harga:17000, img:"https://lh3.googleusercontent.com/pw/AP1GczNRUTLKAPOoN6niM6JrB0iG6vjZp9iWW3V2AY6RquqiGcQaMPgt4Zs6Hl1Av3AWg579-LMqaY6HdCK3domNC7VTua9RyqA3VCbLYGaxndtnHm8F4J7xOSOZK7jRORXXEyzneCqwrU0wlPaeW8qtkDZy=w190-h265-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-6-06", nama:"Bahasa Jawa Kls 6", harga:13000, img:"https://lh3.googleusercontent.com/pw/AP1GczOXnAii0m_JwcwB_ebBSEmiJVLkGwTFeNKn6TBrL7h-p6IGF6GBieT6wRCng67fmDNrTOm1t0EthaFEwe-iPvJ0aUtipODOgYhpg7v9vKN3t1eypXV6PJGKXE-2t5H8LnAM7efVDU110qvi9voE00ou=w156-h201-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-6-07", nama:"Pendidikan Agama Islam Kls 6", harga:13000, img:"https://lh3.googleusercontent.com/pw/AP1GczOynwPX9VwB4Eymn1XmBhABUwBem8lsD2sWyNkZ1SPnFniT8T7HPfe-L_OlzEWZZGI9vBgYwsGSe_Li1DxyybagrM1p4BG_AAutfEvXUctlv2NrTVTci0XGpDTMyXKrUZ6z3VhwZ2pp-QA6600fklx6=w707-h980-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-6-08", nama:"PJOK Kls 6", harga:13000, img:"https://lh3.googleusercontent.com/pw/AP1GczMDMTgNxw5B0kR3hXKyE6M7bK2bzRVv3BsCzSpOfY7yQ2iPTemJ1a9Adh_0VVWyysZEjlyBaHZBuo_C0Usmq4D2y47epwAVb-EYxXvtSmyV6O7GidzTiHbT2Ekru48Nja3aQ8-NNAha_LCOmWKGnDmH=w158-h218-s-no?authuser=0",penerbit:"FOKUS"},

{id:"FKS-6-09", nama:"Seni Rupa Kls 6", harga:13000, img:"https://lh3.googleusercontent.com/pw/AP1GczP8GAEmtfTlXx6Mx7IxDdGeEsId5qmKEWI20kOWWFTBog4xK6lrbEoChjGtg-gGR1IBC0p8dWQbfppk4VTyuvILUi8swKNTOLuBlAaFnuz0FAUblsWdxIvCZ5RtLzaoANJPfCAljnZBZ-8xBQ4FIsnY=w685-h1002-s-no?authuser=0",penerbit:"FOKUS"},
],

  TKA:[{id:"INT-6-01", nama:"Detik - Detik", harga:60000, img:"https://lh3.googleusercontent.com/pw/AP1GczPplBbNIvMiWXEw8Toe_If2AuXUGU2bxygLxWfmyA--ETqcwikM1v_Rr_LBWU0dgMwNOm-rtGvFv7t5lmMi9us9r6GtU88eO92s6M2hT4poOfDC80U7JXNQOh6kiOS_MDHuQs7y2pxeQcWU_KVAoQ0i=w400-h565-s-no?authuser=0",penerbit:"Intan Pariwara"},

{id:"PM-6-01", nama:"Aku Siap", harga:85000, img:"https://lh3.googleusercontent.com/pw/AP1GczNyO3k6IJsXZuJuFIHvmY3OzJQMV8KufX1C34fQr-iFJc4RxM5boajaSKgcIvtQ3w9Z-zJoW_hYArPFh-pNudYdkANGvzTL1m7AZ1bEGi9epxjX6vVN9X6UzJYWfb_EZ1-mY16L5VTlmXvI4smq0Wnn=w763-h1002-s-no?authuser=0",penerbit:"Pustaka Mulia"},
],
  
PM:[{id:"PM1",nama:"Pendidikan Moral",harga:28000,img:"https://picsum.photos/200?random=5",penerbit:"Maestro"}],
  CUSTOM:[{id:"CUS1", nama:"Cetak Buku Prestasi", harga:4000, img:"https://picsum.photos/200?random=6"}]
};
const rumahData = {
  SEMBAKO:[{id:'SM1',nama:'Beras 5kg',harga:65000,img:'https://picsum.photos/200?random=7'}],
  ALAT:[{id:'AL1',nama:'Sapu Lantai',harga:15000,img:'https://picsum.photos/200?random=8'}],
  SNACK:[{id:'SN1',nama:'Keripik Kentang',harga:12000,img:'https://picsum.photos/200?random=11'}]
};
const allProduk=[...produkData.HET,...produkData.LKS,...produkData.TKA,...produkData.PM,...produkData.CUSTOM,...rumahData.SEMBAKO,...rumahData.ALAT,...rumahData.SNACK];

let pesanan=[]; 
let produkTampil=[];

// NAVIGASI
function kembaliMenuUtama(){
  document.getElementById('menuUtama').style.display='block';
  document.getElementById('menuSekolah').style.display='none';
  document.getElementById('menuRumah').style.display='none';
  document.getElementById('btnKembali').style.display='none';
  document.getElementById('contentArea').style.display='none';
  document.getElementById('searchBox').style.display='none';
  document.getElementById('filterPenerbitContainer').style.display='none';
}
function bukaSekolah(){
  document.getElementById('menuUtama').style.display='none';
  document.getElementById('menuSekolah').style.display='flex';
  document.getElementById('menuRumah').style.display='none';
  document.getElementById('btnKembali').style.display='block';
  document.getElementById('contentArea').style.display='flex';
  document.getElementById('searchBox').style.display='block';
  selectMenu(null,'HET');
}
function bukaRumahTangga(){
  document.getElementById('menuUtama').style.display='none';
  document.getElementById('menuSekolah').style.display='none';
  document.getElementById('menuRumah').style.display='flex';
  document.getElementById('btnKembali').style.display='block';
  document.getElementById('contentArea').style.display='flex';
  document.getElementById('searchBox').style.display='block';
  renderProduk([]);
  document.getElementById('filterPenerbitContainer').style.display='none';
}

// SELEKSI MENU SEKOLAH
function selectMenu(evt,kat){
  if(evt) document.querySelectorAll('#menuSekolah button').forEach(b=>b.classList.remove('active'));
  if(evt) evt.target.classList.add('active');
  produkTampil = produkData[kat] || [];
  setupFilterPenerbit(kat);
  renderProduk(produkTampil);
}

// SELEKSI MENU RUMAH
function selectRumah(evt,kat){
  document.querySelectorAll('#menuRumah button').forEach(b=>b.classList.remove('active'));
  evt.target.classList.add('active');
  produkTampil = rumahData[kat];
  renderProduk(produkTampil);
}

// FILTER PENERBIT
function setupFilterPenerbit(kat){
  const select=document.getElementById('filterPenerbit');
  select.innerHTML='<option value="">Semua</option>';
  if(!produkData[kat]){document.getElementById('filterPenerbitContainer').style.display='none';return;}
  const penerbitSet=new Set(produkData[kat].map(p=>p.penerbit).filter(p=>p));
  penerbitSet.forEach(p=>{const opt=document.createElement('option'); opt.value=p; opt.text=p; select.appendChild(opt);});
  document.getElementById('filterPenerbitContainer').style.display=penerbitSet.size>0?'block':'none';
}
function filterPenerbit(){
  const selected=document.getElementById('filterPenerbit').value;
  let filtered=produkTampil;
  if(selected) filtered=produkTampil.filter(p=>p.penerbit===selected);
  renderProduk(filtered);
}

// RENDER PRODUK
function renderProduk(list=produkTampil){
  const area=document.getElementById('contentArea'); area.innerHTML='';
  list.forEach(p=>{
    area.innerHTML+=`
    <div class="product-card" id="product_${p.id}">
      <div class="product-left">
        <img src="${p.img}">
        <div>Kode: ${p.id}</div>
      </div>
      <div class="product-info">
        <b>${p.nama}</b>
        <p>Harga: Rp ${p.harga.toLocaleString()}</p>
        <p>Jumlah: <input class="qty" type="number" min="0" value="${getQty(p.id)}" onchange="updateQty('${p.id}', this.value)"></p>
        <p>Subtotal: Rp <span id="subtotal_${p.id}">${getSubtotal(p.id)}</span></p>
        <button onclick="tambah('${p.id}','${p.nama}',${p.harga},document.querySelector('#product_${p.id} .qty').value)">+ Tambah</button>
      </div>
    </div>`;
  });
  updateBadge(); updateHeaderTotal();
}
function getQty(id){let item=pesanan.find(p=>p.id===id);return item?item.qty:0;}
function getSubtotal(id){let item=pesanan.find(p=>p.id===id);return item?(item.harga*item.qty).toLocaleString():"0";}
function tambah(id,nama,harga,qtyInput){let qty=parseInt(qtyInput)||1;if(qty<1) qty=1;let item=pesanan.find(p=>p.id===id);if(item)item.qty+=qty;else pesanan.push({id,nama,harga,qty});renderProduk(produkTampil);}
function updateQty(id,val){let item=pesanan.find(p=>p.id===id);if(item){item.qty=parseInt(val)||0;if(item.qty===0) pesanan=pesanan.filter(p=>p.id!==id);}renderProduk(produkTampil);}
function updateBadge(){document.getElementById('badgeQty').innerText=pesanan.reduce((a,b)=>a+b.qty,0);}
function updateHeaderTotal(){const total=pesanan.reduce((sum,p)=>sum+p.harga*p.qty,0);document.getElementById('headerTotal').innerText='Rp '+total.toLocaleString();}

// PENCARIAN
function cariProduk(){const keyword=document.getElementById('searchInput').value.toLowerCase();if(!keyword){renderProduk(produkTampil);return;}const filtered=produkTampil.filter(p=>p.nama.toLowerCase().includes(keyword)||p.id.toLowerCase().includes(keyword));renderProduk(filtered);}
function cariProdukUtama(){const keyword=document.getElementById('searchInputUtama').value.toLowerCase();if(!keyword){document.getElementById('contentArea').style.display='none';return;}const filtered=allProduk.filter(p=>p.nama.toLowerCase().includes(keyword)||p.id.toLowerCase().includes(keyword));if(filtered.length>0){produkTampil=filtered;renderProduk(filtered);document.getElementById('contentArea').style.display='flex';}else{document.getElementById('contentArea').innerHTML='<p style="text-align:center;">Produk tidak ditemukan</p>';document.getElementById('contentArea').style.display='flex';}}

// RINGKASAN MODAL
function lihatRingkasanModal() {
  const modal = document.getElementById('ringkasanModal');
  const content = document.getElementById('modalContent');
  content.innerHTML = '';

  if (pesanan.length === 0) {
    content.innerHTML = '<p>Keranjang kosong.</p>';
    modal.style.display = 'flex';
    return;
  }

  let html = `<table>
    <tr>
      <th>No</th>
      <th>Nama</th>
      <th>Harga</th>
      <th>Qty</th>
      <th>Subtotal</th>
      <th>Hapus</th>
    </tr>`;

  pesanan.forEach((p, i) => {
    html += `<tr>
      <td>${i + 1}</td>
      <td>${p.nama}</td>
      <td>Rp ${p.harga.toLocaleString()}</td>
      <td>
        <input type="number" min="1" value="${p.qty}" style="width:40px;text-align:center" onchange="updateQtyBawah(${i}, this.value)">
      </td>
      <td>Rp ${(p.harga * p.qty).toLocaleString()}</td>
      <td>
        <button onclick="hapusItemBawah(${i})" style="background:red;color:white;border:none;padding:4px 8px;border-radius:4px;">‚ùå</button>
      </td>
    </tr>`;
  });

  html += `</table>
    <div style="margin-top:10px;display:flex;gap:10px;align-items:center;">
      <label style="flex:1;text-align:right;">Discount (%) :</label>
      <input type="number" id="discountModal" value="0" style="width:80px;" onchange="updateTotalRingkasanModal()">
    </div>
    <div style="margin-top:5px;display:flex;gap:10px;align-items:center;">
      <label style="flex:1;text-align:right;">Voucher (Rp) :</label>
      <input type="number" id="voucherModal" value="0" style="width:80px;" onchange="updateTotalRingkasanModal()">
    </div>
    <h3 style="text-align:right;margin-top:10px;">Total: <span id="totalRingkasanModal">Rp 0</span></h3>

    <label>Nama Pemesan</label>
    <input id="namaPemesanModal">

    <label>Nama Lembaga</label>
    <input id="namaLembagaModal">

    <label>Alamat</label>
    <textarea id="alamatPemesanModal" style="height:60px;"></textarea>

    <div class="action-buttons">
      <button class="waBtn" onclick="kirimWARingkasanModal()">üì± Kirim ke WhatsApp</button>
      <button id="printBtn" onclick="window.print()">üñ® Print</button>
      <button id="resetBtn" onclick="resetPesananModal()">Reset</button>
    </div>`;

  content.innerHTML = html;
  modal.style.display = 'flex';
  updateTotalRingkasanModal();
}
function tutupRingkasanModal(){document.getElementById('ringkasanModal').style.display='none';}
function updateQtyBawah(idx,val){pesanan[idx].qty=parseInt(val)||1;lihatRingkasanModal();updateBadge();updateHeaderTotal();}
function hapusItemBawah(idx){pesanan.splice(idx,1);lihatRingkasanModal();updateBadge();updateHeaderTotal();}
function updateTotalRingkasanModal(){const discount=parseFloat(document.getElementById('discountModal')?.value)||0;const voucher=parseFloat(document.getElementById('voucherModal')?.value)||0;let subtotal=pesanan.reduce((s,p)=>s+p.harga*p.qty,0);let total=subtotal-(subtotal*discount/100)-voucher;if(total<0) total=0;document.getElementById('totalRingkasanModal').innerText='Rp '+total.toLocaleString();document.getElementById('headerTotal').innerText='Rp '+total.toLocaleString();}
function resetPesananModal(){if(confirm("Hapus semua pesanan?")){pesanan=[];renderProduk(produkTampil);updateBadge();updateHeaderTotal();tutupRingkasanModal();}}
function kirimWARingkasanModal() {
  if (pesanan.length === 0) {
    alert("Belum ada pesanan!");
    return;
  }

  const namaPemesan = document.getElementById('namaPemesanModal').value || "-";
  const lembaga = document.getElementById('namaLembagaModal').value || "-";
  const alamat = document.getElementById('alamatPemesanModal').value || "-";

  const discountPerc = parseFloat(document.getElementById('discountModal').value) || 0;
  const voucher = parseFloat(document.getElementById('voucherModal').value) || 0;

  let subtotal = pesanan.reduce((a, b) => a + b.harga * b.qty, 0);
  let discountRp = Math.round(subtotal * (discountPerc / 100));
  let totalAkhir = subtotal - discountRp - voucher;
  if (totalAkhir < 0) totalAkhir = 0;

  let pesan = "üìã *Ringkasan Pesanan*%0A%0A";

  pesanan.forEach((p) => {
    pesan += `‚Ä¢ *${p.nama}* - Qty: ${p.qty}, Harga: Rp ${p.harga.toLocaleString()}, Subtotal: Rp ${(p.harga * p.qty).toLocaleString()}%0A`;
  });

  pesan += `%0ASubtotal: Rp ${subtotal.toLocaleString()}%0ADiscount: ${discountRp.toLocaleString()}%0AVoucher: Rp ${voucher.toLocaleString()}%0ATotal Akhir: *Rp ${totalAkhir.toLocaleString()}*%0A%0A`;

  pesan += `Nama Pemesan: ${namaPemesan}%0ALembaga: ${lembaga}%0AAlamat: ${alamat}`;

  const nomorWA = "6285736666655"; // ganti dengan nomor tujuan
  const url = `https://wa.me/${nomorWA}?text=${pesan}`;
  window.open(url, "_blank");
}

</script>

</body>
</html>
